<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio</title>
    <style>
        /* --- GLOBAL SETTINGS --- */
        html {
            width: 100%;
            height: 100%;
            background-color: #000;
        }
        
        body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: transparent;
            color: #fff;
            overflow: hidden;
            font-family: 'Courier New', Courier, monospace;
            font-weight: bold;
            font-size: 11pt;
            -webkit-font-smoothing: none;
        }

        a {
            color: #fff;
            text-decoration: none;
            cursor: pointer;
        }

        a:hover, a.active {
            text-decoration: none;
            background-color: #fff;
            color: #000;
        }

        /* --- VIDEO BACKGROUND --- */
        #bg-video {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 0;
            opacity: 0.8;
            pointer-events: none;
        }

        /* --- NAVIGATION BAR --- */
        #nav-container {
            position: fixed;
            bottom: 30px;
            left: 0;
            width: 100%;
            text-align: center;
            z-index: 100;
            padding: 0 20px;
            box-sizing: border-box;
            user-select: none;
            overflow: hidden;
            white-space: nowrap;
        }

        .nav-text {
            display: inline-block;
            white-space: nowrap;
        }

        .nav-link {
            display: inline-block;
            padding: 0 2px;
        }

        /* --- SECTIONS (PAGES) --- */
        .page-section {
            display: none; 
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow-y: auto;
            background-color: transparent; 
            padding: 80px 36px 100px 36px;
            box-sizing: border-box;
            z-index: 10;
        }

        /* Project Page Specific Overrides */
        .project-page {
            padding-top: 0 !important;
            padding-left: 0 !important;
            padding-right: 0 !important;
            /* Disable vertical scroll on the page itself */
            overflow: hidden !important; 
        }

        /* Wrapper for text content below slider */
        .project-content-wrapper {
            padding: 20px 36px 150px 36px; 
            width: 100%; 
            margin: 0; 
            box-sizing: border-box;
        }

        /* --- GRID SYSTEMS --- */
        
        /* General 12-col grid */
        .grid-12 {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 20px; 
            max-width: 1400px;
            margin: 0 auto;
            align-items: start; 
        }

        /* Full width grid for project page content to ignore max-width constraint */
        .project-page .grid-12 {
            max-width: none; 
            margin: 0;
        }

        /* --- ARCHIVE PROJECT ITEMS --- */
        
        a.project-item {
            display: flex;
            flex-direction: column;
            gap: 10px;
            background: transparent;
            border: none;
            cursor: pointer;
            text-decoration: none;
            color: #fff;
            position: relative; 
            z-index: 1;
            transition: z-index 0s;
        }

        /* THE OVERLAP MAGIC: Irregular classes instead of one fixed rule */
        .overlap-200 { margin-top: -200px; }
        .overlap-300 { margin-top: -300px; }
        .overlap-400 { margin-top: -400px; }
        
        a.project-item:hover {
            z-index: 50; 
        }
        
        a.project-item:hover .project-title {
            text-decoration: underline;
        }

        .project-img {
            width: 100%;
            height: auto; 
            display: block;
            border: none;
            transition: filter 0.3s ease;
      
        }

        .project-item:hover .project-img {
            filter: blur(5px);
        }

        .project-title {
            font-size: 11pt;
            margin-top: 5px;
            
        }

        /* --- Dynamic Grid Spans & Alignment (ZIG ZAG & VARIATION) --- */
        /* All items now span 7 columns for bigger presence */

        /* LEFT VARIANTS (Span 7) */
        .pos-left-1 { grid-column: 1 / span 7; text-align: left; }
        .pos-left-2 { grid-column: 2 / span 7; text-align: left; }
        .pos-left-3 { grid-column: 3 / span 7; text-align: left; }

        /* RIGHT VARIANTS (Span 7) */
        /* End at -1 (right edge) */
        .pos-right-1 { grid-column: span 7 / -1; text-align: right; align-items: flex-end; }
        /* Starts at 5, ends at 12 */
        .pos-right-2 { grid-column: 5 / span 7; text-align: right; align-items: flex-end; }
        /* Starts at 4, ends at 11 */
        .pos-right-3 { grid-column: 4 / span 7; text-align: right; align-items: flex-end; }

        .row-break {
            grid-column: 1 / -1; 
            height: 0;
        }

        /* --- PROJECT DETAIL SLIDESHOW --- */
        
        .project-detail-header {
            margin-bottom: 10px; 
        }

        /* Horizontal Scroll Container */
        .slideshow-container {
            display: flex;
            overflow-x: auto;
            gap: 20px; /* Reduced gap to 20px */
            width: 100%;
            height: 60vh; 
            margin-bottom: 0;
            padding-left: 20px; 
            padding-right: 20px;
            box-sizing: border-box;
            
            scrollbar-width: none; 
            -ms-overflow-style: none;
            
            /* Ensure native smooth behavior is off so our JS can handle it precisely */
            scroll-behavior: auto;
        }
        
        .slideshow-container::-webkit-scrollbar { 
            display: none; 
        }

        .slide {
            flex: 0 0 auto; 
            height: 100%;
            width: auto;
            position: relative;
            /* Initially hidden until image loads to prevent broken icon flash */
            display: none; 
        }
        
        /* When we confirm image is loaded, we add this class */
        .slide.loaded {
            display: block;
        }

        /* Style both images and videos in the slider */
        .slide img, .slide video {
            height: 100%;
            width: auto; 
            object-fit: contain;
            display: block;
        }

        .project-description {
            line-height: 1.4;
            /* Grid Placement: Start col 1, End col 10 (Covers cols 1-9) */
            grid-column: 1 / 10;
        }

        /* Responsive */
        .col-span-12 { grid-column: span 12; }
        .col-span-8  { grid-column: span 8; }
        .col-span-4  { grid-column: span 4; }

        @media (max-width: 768px) {
            .grid-12 {
                grid-template-columns: repeat(4, 1fr);
            }
            .col-span-12, .col-span-8, .col-span-4 {
                grid-column: span 4 !important; 
            }
            
            /* Reset positions on mobile */
            .pos-left-1, .pos-left-2, .pos-left-3,
            .pos-right-1, .pos-right-2, .pos-right-3 {
                grid-column: 1 / -1 !important;
                text-align: left !important;
                align-items: flex-start !important;
                margin-top: 0 !important;
                margin-bottom: 40px;
            }
            
            /* Reset overlaps on mobile */
            .overlap-200, .overlap-300, .overlap-400 {
                margin-top: 0 !important;
            }

            .slideshow-container {
                height: 50vh; 
            }

            .project-description {
                grid-column: 1 / -1 !important;
            }
        }
    </style>
</head>
<body>

    <!-- Background Video -->
    <video autoplay muted loop playsinline id="bg-video">
        <source src="video/startvideo.mp4" type="video/mp4">
        Your browser does not support HTML5 video.
    </video>

    <!-- NAVIGATION -->
    <div id="nav-container">
        <div class="nav-text">//////////// , <a id="link-landing" class="nav-link" onclick="showSection('landing')">start</a> / /. . . ,( / <a id="link-archive" class="nav-link" onclick="showSection('archive')">archive</a> ,,. /////.,:;:* <a id="link-profile" class="nav-link" onclick="showSection('profile')">profile</a>. ../-.-_.-.--</div>
    </div>

    <!-- ARCHIVE PAGE -->
    <div id="archive" class="page-section" style="background-color: #000;">
        <div class="grid-12">
            <div class="col-span-12" style="margin-bottom: 60px;">
                <h1>ARCHIVE</h1>
            </div>
            
            <!-- 
               MAPPING:
               P1: bildmarke
               P2: blickwechsel
               P3: designobjektekatalog
               P4: londonprojekt
               P5: parisprojekt
               P6: quadrate
               P7: skizzenbuecher
               P8: typoraum
               P9: bildmarke (Duplicate for 9th slot)
            -->

            <!-- Project 1 (Left - Standard) -->
            <a onclick="showSection('project-1')" class="project-item pos-left-1">
                <img class="project-img" src="Bilder/bildmarke/cover.webp" alt="Project 1">
            </a>
            
            <div class="row-break"></div>

            <!-- Project 2 (Right - Standard) - Overlap 300 -->
            <a onclick="showSection('project-2')" class="project-item pos-right-1 overlap-300">
                <img class="project-img" src="Bilder/blickwechsel/cover.webp" alt="Project 2">
            </a>

            <div class="row-break"></div>

            <!-- Project 3 (Left - Shifted In) - Overlap 200 -->
            <a onclick="showSection('project-3')" class="project-item pos-left-2 overlap-200">
                <img class="project-img" src="Bilder/designobjektekatalog/cover.webp" alt="Project 3">
            </a>

            <div class="row-break"></div>

            <!-- Project 4 (Right - Shifted In) - Overlap 400 -->
            <a onclick="showSection('project-4')" class="project-item pos-right-3 overlap-400">
                <img class="project-img" src="Bilder/londonprojekt/cover.webp" alt="Project 4">
            </a>

            <div class="row-break"></div>

            <!-- Project 5 (Left - Standard) - Overlap 300 -->
            <a onclick="showSection('project-5')" class="project-item pos-left-1 overlap-300">
                <img class="project-img" src="Bilder/parisprojekt/cover.webp" alt="Project 5">
            </a>

            <div class="row-break"></div>

            <!-- Project 6 (Right - Shifted Mid) - Overlap 200 -->
            <a onclick="showSection('project-6')" class="project-item pos-right-2 overlap-200">
                <img class="project-img" src="Bilder/quadrate/cover.webp" alt="Project 6">
            </a>

            <div class="row-break"></div>

            <!-- Project 7 (Left - Shifted Mid) - Overlap 400 -->
            <a onclick="showSection('project-7')" class="project-item pos-left-2 overlap-400">
                <img class="project-img" src="Bilder/skizzenbuecher/cover.webp" alt="Project 7">
            </a>

            <div class="row-break"></div>

            <!-- Project 8 (Right - Standard) - Overlap 300 -->
            <a onclick="showSection('project-8')" class="project-item pos-right-1 overlap-300">
                <img class="project-img" src="Bilder/typoraum/cover.webp" alt="Project 8">
            </a>

            <div class="row-break"></div>

            <!-- Project 9 (Left - Shifted Far) - Overlap 200 -->
            <a onclick="showSection('project-9')" class="project-item pos-left-3 overlap-200">
                <img class="project-img" src="Bilder/bildmarke/cover.webp" alt="Project 9">
            </a>

        </div>
    </div>

    <!-- PROFILE PAGE -->
    <div id="profile" class="page-section" style="background-color: #000;">
        <div class="grid-12">
            <div class="col-span-4">
                <h1>damaris wunderlin</h1>
            </div>
            <div class="col-span-8">
                <p>Bio goes here. Using the 12 column grid system.</p>
                <br>
                <p>Contact: damaris.wunderlin@hispeed.ch</p>
            </div>
        </div>
    </div>

    <!-- --- INDIVIDUAL PROJECT PAGES (Slideshows) --- -->

    <!-- Project 1 Page -->
    <div id="project-1" class="page-section project-page" style="background-color: #000;">
        <div class="slideshow-container" id="slider-project-1">
            <!-- Images loaded via JS -->
        </div>
        <div class="grid-12 project-content-wrapper">
            <div class="project-description">
                <p>kyoto kicks /// 2024 <br><br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </div>
        </div>
    </div>

    <!-- Project 2 Page -->
    <div id="project-2" class="page-section project-page" style="background-color: #000;">
        <div class="slideshow-container" id="slider-project-2"></div>
        <div class="grid-12 project-content-wrapper">
            <div class="project-description">
                <p>wer sind wir ohne erinnerung? /// mai–juni 2025 <br><br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </div>
        </div>
    </div>

    <!-- Project 3 Page -->
    <div id="project-3" class="page-section project-page" style="background-color: #000;">
        <div class="slideshow-container" id="slider-project-3"></div>
        <div class="grid-12 project-content-wrapper">
            <div class="project-description">
                <p>mid century desginclassics /// 2023 <br><br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </div>
        </div>
    </div>

    <!-- Project 4 Page -->
    <div id="project-4" class="page-section project-page" style="background-color: #000;">
        <div class="slideshow-container" id="slider-project-4"></div>
        <div class="grid-12 project-content-wrapper">
            <div class="project-description">
                <p>wild london /// august–november 2025 <br><br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </div>
        </div>
    </div>

    <!-- Project 5 Page -->
    <div id="project-5" class="page-section project-page" style="background-color: #000;">
        <div class="slideshow-container" id="slider-project-5"></div>
        <div class="grid-12 project-content-wrapper">
            <div class="project-description">
                <p>jusqu’à ce que les livres dansent /// september–november 2024 <br><br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </div>
        </div>
    </div>

    <!-- Project 6 Page -->
    <div id="project-6" class="page-section project-page" style="background-color: #000;">
        <div class="slideshow-container" id="slider-project-6"></div>
        <div class="grid-12 project-content-wrapper">
            <div class="project-description">
                <p>squares in space /// 2023 <br><br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </div>
        </div>
    </div>

    <!-- Project 7 Page -->
    <div id="project-7" class="page-section project-page" style="background-color: #000;">
        <div class="slideshow-container" id="slider-project-7"></div>
        <div class="grid-12 project-content-wrapper">
            <div class="project-description">
                <p>sketchbooks /// 2023–2025 <br><br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </div>
        </div>
    </div>

    <!-- Project 8 Page -->
    <div id="project-8" class="page-section project-page" style="background-color: #000;">
        <div class="slideshow-container" id="slider-project-8"></div>
        <div class="grid-12 project-content-wrapper">
            <div class="project-description">
                <p>type in space /// 2024 <br><br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </div>
        </div>
    </div>

    <!-- Project 9 Page -->
    <div id="project-9" class="page-section project-page" style="background-color: #000;">
        <div class="slideshow-container" id="slider-project-9"></div>
        <div class="grid-12 project-content-wrapper">
            <div class="project-description">
                <p>PROJECT 09 /// 2020 <br><br>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </div>
        </div>
    </div>

    <script>
        // Map Project IDs to Folder Names
        const projectFolders = {
            'project-1': 'bildmarke',
            'project-2': 'blickwechsel',
            'project-3': 'designobjektekatalog',
            'project-4': 'londonprojekt',
            'project-5': 'parisprojekt',
            'project-6': 'quadrate',
            'project-7': 'skizzenbuecher',
            'project-8': 'typoraum',
            'project-9': 'bildmarke' // Using bildmarke as a fallback for the 9th slot
        };

        // Cache loaded projects to avoid re-fetching
        const loadedProjects = {};

        function loadProjectImages(projectId) {
            if (loadedProjects[projectId]) return; // Already loaded

            const folderName = projectFolders[projectId];
            if (!folderName) return;

            const slider = document.getElementById('slider-' + projectId);
            if (!slider) return;

            // Smart Skip Logic:
            // We blindly create elements for images 1 through 50 (arbitrary high limit).
            // On load: we show them.
            // On error: we remove them from the DOM.
            // This ensures strict ordering (1 before 5) without needing a file list.
            
            const maxImages = 50; // Try to load up to 50 items per project

            for (let i = 1; i <= maxImages; i++) {
                const slideDiv = document.createElement('div');
                slideDiv.className = 'slide';
                
                // 1. Try Image (.webp)
                const img = document.createElement('img');
                const imagePath = `Bilder/${folderName}/${i}.webp`;
                const videoPath = `Bilder/${folderName}/${i}.mp4`;

                img.src = imagePath;
                img.alt = `${folderName} item ${i}`;
                
                img.onload = function() {
                    slideDiv.appendChild(img);
                    slideDiv.classList.add('loaded'); // Show the slide only if image exists
                };
                
                img.onerror = function() {
                    // 2. Image failed, Try Video (.mp4)
                    const video = document.createElement('video');
                    video.src = videoPath;
                    video.muted = true;
                    video.autoplay = true;
                    video.loop = true;
                    video.playsInline = true; // Important for mobile
                    
                    // Note: video.onerror might not trigger instantly on source error in some browsers
                    // checking network state or listening for 'error' is key.
                    // video.onloadeddata indicates it found data.
                    
                    video.onloadeddata = function() {
                        slideDiv.appendChild(video);
                        slideDiv.classList.add('loaded');
                    };
                    
                    // If video also fails, remove the placeholder
                    video.onerror = function() {
                        slideDiv.remove();
                    };
                };

                slider.appendChild(slideDiv);
            }

            loadedProjects[projectId] = true;
        }

        function showSection(sectionId) {
            // 1. Hide all content pages
            const pages = document.querySelectorAll('.page-section');
            pages.forEach(page => {
                page.style.display = 'none';
            });

            // 2. Remove active class from all links
            const links = document.querySelectorAll('.nav-link');
            links.forEach(link => {
                link.classList.remove('active');
            });

            // 3. Highlight the clicked link (only for main nav)
            if (sectionId === 'landing' || sectionId === 'archive' || sectionId === 'profile') {
                const activeLink = document.getElementById('link-' + sectionId);
                if (activeLink) {
                    activeLink.classList.add('active');
                }
            } else if (sectionId.startsWith('project')) {
                // Keep archive highlighted when inside a project
                const archiveLink = document.getElementById('link-archive');
                if (archiveLink) archiveLink.classList.add('active');
                
                // Trigger dynamic image loading for this project
                loadProjectImages(sectionId);
            }

            // 4. Show the section (unless it's landing)
            if (sectionId !== 'landing') {
                document.getElementById(sectionId).style.display = 'block';
            }
        }

        // --- NEW: SMOOTH INERTIA SCROLL (LERP) ---
        
        let targetScroll = 0;
        let currentScroll = 0;
        let isAnimating = false;
        let activeSlider = null;

        function lerp(start, end, factor) {
            return start + (end - start) * factor;
        }

        function animateScroll() {
            if (!activeSlider) {
                isAnimating = false;
                return;
            }

            currentScroll = lerp(currentScroll, targetScroll, 0.08);
            activeSlider.scrollLeft = currentScroll;

            if (Math.abs(targetScroll - currentScroll) > 0.5) {
                requestAnimationFrame(animateScroll);
                isAnimating = true;
            } else {
                activeSlider.scrollLeft = targetScroll;
                isAnimating = false;
            }
        }

        // Global wheel listener
        window.addEventListener('wheel', (evt) => {
            const activeProjectPage = document.querySelector('.project-page[style*="display: block"]');

            if (activeProjectPage) {
                const slider = activeProjectPage.querySelector('.slideshow-container');
                if (slider) {
                    evt.preventDefault();

                    if (activeSlider !== slider) {
                        activeSlider = slider;
                        currentScroll = slider.scrollLeft;
                        targetScroll = slider.scrollLeft;
                    }

                    targetScroll += evt.deltaY * 1.5;

                    const maxScroll = slider.scrollWidth - slider.clientWidth;
                    targetScroll = Math.max(0, Math.min(targetScroll, maxScroll));

                    if (!isAnimating) {
                        animateScroll();
                    }
                }
            }
        }, { passive: false });
    </script>
</body>
</html>